import type { NextApiRequest, NextApiResponse } from "next";
const SAMPLE = [
  { title: "Outdated TLS cipher suites", severity: "Medium", tool: "Nuclei", remediation: "Disable deprecated ciphers; prefer TLS 1.2+ strong suites." },
  { title: "Dependency with known CVE", severity: "High", tool: "Trivy", remediation: "Upgrade the vulnerable package to a patched version." },
  { title: "Missing security headers", severity: "Low", tool: "ZAP", remediation: "Add HSTS, X-Content-Type-Options, and a basic CSP." },
];
export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  const target = (req.query.target as string) || "https://example.com";
  await new Promise(r => setTimeout(r, 600));
  res.status(200).json({ target, duration: 0.6, findings: SAMPLE });
}
